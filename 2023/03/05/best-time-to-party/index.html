<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>Puzzle 2 - The Best Time To Party | DiamondI&#39;s blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Programming for Puzzledè¿™æ˜¯MITçš„ä¸€é—¨å…¬å¼€è¯¾ï¼Œè®²å¸ˆæ˜¯Prof. Srini Devadasï¼Œè¯¾ç¨‹çš„levelæ˜¯æœ¬ç§‘ç”Ÿã€‚">
<meta property="og:type" content="article">
<meta property="og:title" content="Puzzle 2 - The Best Time To Party">
<meta property="og:url" content="http://diamondi.github.io/2023/03/05/best-time-to-party/index.html">
<meta property="og:site_name" content="DiamondI&#39;s blog">
<meta property="og:description" content="Programming for Puzzledè¿™æ˜¯MITçš„ä¸€é—¨å…¬å¼€è¯¾ï¼Œè®²å¸ˆæ˜¯Prof. Srini Devadasï¼Œè¯¾ç¨‹çš„levelæ˜¯æœ¬ç§‘ç”Ÿã€‚">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://www.csail.mit.edu/sites/default/files/styles/headshot/public/images/migration/devadas.jpg?h=5636fc5d&itok=EUGLSbU-">
<meta property="og:image" content="http://ww3.sinaimg.cn/large/006tNc79gy1g5dbixezi7j30fa0920tc.jpg">
<meta property="article:published_time" content="2023-03-05T15:09:21.170Z">
<meta property="article:modified_time" content="2023-03-05T00:01:26.251Z">
<meta property="article:author" content="DiamondI">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://www.csail.mit.edu/sites/default/files/styles/headshot/public/images/migration/devadas.jpg?h=5636fc5d&itok=EUGLSbU-">
  
    <link rel="alternate" href="/atom.xml" title="DiamondI&#39;s blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 6.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">DiamondI&#39;s blog</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://diamondi.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-best-time-to-party" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2023/03/05/best-time-to-party/" class="article-date">
  <time datetime="2023-03-05T15:09:21.170Z" itemprop="datePublished">2023-03-05</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Misc/">Misc</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Puzzle 2 - The Best Time To Party
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Programming-for-Puzzled"><a href="#Programming-for-Puzzled" class="headerlink" title="Programming for Puzzled"></a>Programming for Puzzled</h1><p>è¿™æ˜¯MITçš„ä¸€é—¨å…¬å¼€è¯¾ï¼Œè®²å¸ˆæ˜¯Prof. Srini Devadasï¼Œè¯¾ç¨‹çš„levelæ˜¯æœ¬ç§‘ç”Ÿã€‚</p>
<span id="more"></span>

<p><strong>Prof. Srini Devadas</strong></p>
<p><img src="https://www.csail.mit.edu/sites/default/files/styles/headshot/public/images/migration/devadas.jpg?h=5636fc5d&itok=EUGLSbU-" alt="Prof. Srini Devadas"></p>
<h2 id="Puzzle-2-The-Best-Time-To-Party"><a href="#Puzzle-2-The-Best-Time-To-Party" class="headerlink" title="Puzzle 2: The Best Time To Party"></a>Puzzle 2: The Best Time To Party</h2><h3 id="Puzzle-Description"><a href="#Puzzle-Description" class="headerlink" title="Puzzle Description"></a>Puzzle Description</h3><p><a target="_blank" rel="noopener" href="https://ocw.mit.edu/courses/electrical-engineering-and-computer-science/6-s095-programming-for-the-puzzled-january-iap-2018/puzzle-2-the-best-time-to-party/MIT6_S095IAP18_Puzzle_2.pdf">The Best Time to Party (PDF)</a></p>
<p><strong>é—®é¢˜æè¿°ï¼ˆç”¨è‡ªå·±çš„è¯æè¿°ï¼‰</strong></p>
<p>æœ‰ä¸€ä¸ªèšä¼šï¼ˆpartyï¼‰å°†è¦ä¸¾è¡Œï¼Œè€Œèšä¼šä¸­æœ‰è®¸å¤šçš„å°é¡¹ç›®ï¼ˆcelebrityï¼‰ã€‚ç°åœ¨ç»™å‡ºäº†è¿™äº›å°é¡¹ç›®çš„å¼€å§‹æ—¶é—´å’Œç»“æŸæ—¶é—´ï¼ˆå·¦é—­å³å¼€ï¼‰ï¼Œé—®ä½•æ—¶å‚åŠ èšä¼šï¼Œå¯ä»¥åŒæ—¶çœ‹åˆ°æœ€å¤šçš„å°é¡¹ç›®ï¼Ÿ</p>
<p>é¢˜ç›®å‡è®¾å¼€å§‹æ—¶é—´å’Œç»“æŸæ—¶é—´æ˜¯ä»¥<code>[i, j)</code>ï¼Œå³å·¦é—­å³å¼€åŒºé—´çš„å½¢å¼å‡ºç°ï¼Œè¡¨ç¤ºè¯¥å°é¡¹ç›®æ˜¯<code>i-th</code>å°æ—¶å¼€å§‹ï¼Œ<code>j-th</code>å°æ—¶ç»“æŸã€‚å¹¶ä¸”å‡è®¾å‚åŠ æ—¶é—´ä¹Ÿæ˜¯æ•´ç‚¹ã€‚</p>
<p><strong>æ³¨ï¼š</strong> å·¦é—­å³å¼€æ„å‘³ç€ï¼Œå³ä¾¿åœ¨ä¸€ä¸ªå°é¡¹ç›®ç»“æŸçš„æ—¶é—´ç‚¹å‚åŠ è¿›å»ï¼Œä¹Ÿæ— æ³•çœ‹åˆ°è¯¥é¡¹ç›®äº†ã€‚</p>
<p>ä¸¾ä¾‹å¦‚ä¸‹ï¼š</p>
<table>
<thead>
<tr>
<th>Celebrity</th>
<th>Comes</th>
<th>Goes</th>
</tr>
</thead>
<tbody><tr>
<td>BeyoncÃ©</td>
<td>6</td>
<td>7</td>
</tr>
<tr>
<td>Taylor</td>
<td>7</td>
<td>9</td>
</tr>
<tr>
<td>Brad</td>
<td>10</td>
<td>11</td>
</tr>
<tr>
<td>Katy</td>
<td>10</td>
<td>12</td>
</tr>
<tr>
<td>Tom</td>
<td>8</td>
<td>10</td>
</tr>
<tr>
<td>Drake</td>
<td>9</td>
<td>11</td>
</tr>
<tr>
<td>Alicia</td>
<td>6</td>
<td>8</td>
</tr>
</tbody></table>
<h2 id="Naive-Algorithm"><a href="#Naive-Algorithm" class="headerlink" title="Naive Algorithm"></a>Naive Algorithm</h2><p>åœ¨è¯¾å ‚ä¸Šï¼ŒDevadasæé—®åŒå­¦ï¼ŒåŒå­¦æå‡ºäº†ä¸€ä¸ªéå¸¸ç›´è§‰ä¹Ÿéå¸¸naiveçš„ç®—æ³•ï¼š</p>
<blockquote>
<p>å¯¹æ¯ä¸ªå°æ—¶éƒ½æ£€æŸ¥ä¸€éï¼Œåœ¨è¯¥å°æ—¶é‡ŒåŒæ—¶ä¸¾è¡Œçš„å°é¡¹ç›®æœ‰å¤šå°‘ä¸ªï¼Œæ‰¾å‡ºæœ€å¤šçš„é‚£ä¸ªå³å¯ã€‚</p>
</blockquote>
<p>è¿™ä¸ªç®—æ³•çš„æ­£ç¡®æ€§æ˜¾ç„¶ã€‚æ•ˆç‡å‘¢ï¼Ÿå‡è®¾partyå¼€å§‹æ—¶é—´æ˜¯mï¼Œç»“æŸæ—¶é—´æ˜¯nï¼Œcelebrityæ•°é‡æ˜¯xï¼Œé‚£ä¹ˆå¤æ‚åº¦å°±æ˜¯<code>O((n - m)x)</code>ã€‚è‹¥å°†<code>(n - m)</code>çœ‹ä½œæ˜¯å¸¸æ•°ï¼Œä¼¼ä¹æ˜¯çº¿æ€§çš„ï¼Œè€Œä¸”åœ¨æ—¶é—´é—´éš”æ˜¯å°æ—¶çš„æ—¶å€™ï¼Œå°†å…¶çœ‹ä½œå¸¸æ•°ç¡®å®æœªå°ä¸å¯ï¼›ä½†è‹¥æ—¶é—´é—´éš”æ˜¯åˆ†ç”šè‡³æ˜¯ç§’çš„æ—¶å€™ï¼Œ<code>(n - m)</code>ä¾¿æ— æ³•å†ç®€å•åœ°çœ‹ä½œæ˜¯å¸¸æ•°äº†ï¼Œå¤æ‚åº¦ä¹Ÿå°±ä¸å†æ˜¯çº¿æ€§çš„äº†ã€‚</p>
<p>è€å¸ˆç»™å‡ºçš„ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#Programming for the Puzzled -- Srini Devadas</span></span><br><span class="line"><span class="comment">#yThe Best Time to Party</span></span><br><span class="line"><span class="comment">#Given a list of intervals when celebrities will be at the party</span></span><br><span class="line"><span class="comment">#Output is the time that you want to go the party when the maximum number of</span></span><br><span class="line"><span class="comment">#celebrities are still there.</span></span><br><span class="line"><span class="comment">#Brute force algorithm implemented here</span></span><br><span class="line"></span><br><span class="line">sched = [(<span class="number">6</span>, <span class="number">8</span>), (<span class="number">6</span>, <span class="number">12</span>), (<span class="number">6</span>, <span class="number">7</span>), (<span class="number">7</span>, <span class="number">8</span>), (<span class="number">7</span>, <span class="number">10</span>), (<span class="number">8</span>, <span class="number">9</span>), (<span class="number">8</span>, <span class="number">10</span>), (<span class="number">9</span>, <span class="number">12</span>),</span><br><span class="line">            (<span class="number">9</span>, <span class="number">10</span>), (<span class="number">10</span>, <span class="number">11</span>), (<span class="number">10</span>, <span class="number">12</span>), (<span class="number">11</span>, <span class="number">12</span>)]</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">bestTimeToParty</span>(<span class="params">schedule</span>):</span><br><span class="line">    <span class="comment">#Find start time and end time</span></span><br><span class="line">    start = schedule[<span class="number">0</span>][<span class="number">0</span>]</span><br><span class="line">    end = schedule[<span class="number">0</span>][<span class="number">1</span>]</span><br><span class="line">    <span class="keyword">for</span> c <span class="keyword">in</span> schedule:</span><br><span class="line">        start = <span class="built_in">min</span>(c[<span class="number">0</span>], start)</span><br><span class="line">        end = <span class="built_in">max</span>(c[<span class="number">1</span>], end)</span><br><span class="line"></span><br><span class="line">    <span class="comment">#compute count of celebrities at each time</span></span><br><span class="line">    count = celebrityDensity(schedule, start, end)</span><br><span class="line">    </span><br><span class="line"><span class="comment">##    print (count)</span></span><br><span class="line">    maxcount = <span class="number">0</span></span><br><span class="line">    <span class="comment">#Range over times to find the time when the maximum celebrities are around.</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(start, end + <span class="number">1</span>):</span><br><span class="line">        <span class="keyword">if</span> count[i] &gt; maxcount:</span><br><span class="line">            maxcount = count[i]</span><br><span class="line">            time = i</span><br><span class="line"></span><br><span class="line"><span class="comment">##    maxcount = max(count[start:end + 1])</span></span><br><span class="line"><span class="comment">##    time = count.index(maxcount)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">#Output the best time to party.</span></span><br><span class="line">    <span class="comment">#Note that the \ means the statement continues on the next line.</span></span><br><span class="line">    <span class="built_in">print</span> (<span class="string">&#x27;Best time to attend the party is at&#x27;</span>, time,\</span><br><span class="line">           <span class="string">&#x27;o\&#x27;clock&#x27;</span>, <span class="string">&#x27;:&#x27;</span>, maxcount, <span class="string">&#x27;celebrities will be attending!&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">celebrityDensity</span>(<span class="params">sched, start, end</span>):</span><br><span class="line"></span><br><span class="line">    <span class="comment">#Initialize a list of length end + 1 to all 0&#x27;s</span></span><br><span class="line">    count = [<span class="number">0</span>] * (end + <span class="number">1</span>)</span><br><span class="line">    <span class="comment"># i ranges over different times</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(start, end + <span class="number">1</span>):</span><br><span class="line">        count[i] = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> c <span class="keyword">in</span> sched:</span><br><span class="line">            <span class="comment">#Check if celebrity c is around at time i</span></span><br><span class="line">            <span class="keyword">if</span> c[<span class="number">0</span>] &lt;= i <span class="keyword">and</span> c[<span class="number">1</span>] &gt; i:</span><br><span class="line">                count[i] += <span class="number">1</span></span><br><span class="line">                </span><br><span class="line">    <span class="keyword">return</span> count</span><br><span class="line">                </span><br><span class="line"></span><br><span class="line">bestTimeToParty(sched)</span><br></pre></td></tr></table></figure>

<p>ä»£ç ä¸­é¦–å…ˆæ‰¾åˆ°äº†scheduleä¸­æ‰€æœ‰celebrityä¸­æœ€æ—©çš„å¼€å§‹æ—¶é—´å’Œæœ€æ™šçš„ç»“æŸæ—¶é—´ï¼Œå³ç¡®å®šäº†éå†çš„æ—¶é—´èŒƒå›´ã€‚ç„¶åå¯¹æ¯ä¸ªå°æ—¶éƒ½è¿›è¡Œä¸€æ¬¡æ£€æŸ¥ï¼Œæœ€åå¾—åˆ°æœ€å¤šé¡¹ç›®åŒæ—¶è¿›è¡Œçš„æ—¶é—´ã€‚</p>
<h3 id="Improve"><a href="#Improve" class="headerlink" title="Improve"></a>Improve</h3><p>ä¸Šé¢çš„ç®—æ³•ä¾èµ–æ—¶é—´çš„ç²’åº¦ï¼Œå› æ­¤ä¸€æ—¦æ—¶é—´ç²’åº¦å˜å¾—æ›´ç»†äº†ï¼Œä¸Šé¢çš„ä»£ç å°±éœ€è¦ä¿®æ”¹ã€‚ä¸ä»…å¦‚æ­¤ï¼Œæ—¶é—´ç²’åº¦å˜ç»†ä¹‹åä¹Ÿä¼šä½¿å¾—è®¡ç®—é‡å¢åŠ ã€‚</p>
<p>Devadasåœ¨è¯¾ä¸Šåˆæå‡ºäº†æ–°çš„æ€è·¯ï¼šå…ˆå°†æ¯ä¸ªé¡¹ç›®çš„å¼€å§‹æ—¶é—´å’Œç»“æŸæ—¶é—´è¿›è¡Œæ’åºï¼Œç„¶åå¯¹æ¯ä¸ªæ—¶é—´è¿›è¡Œéå†ï¼ŒåŒæ—¶ç»´æŠ¤ä¸€ä¸ªå˜é‡<code>count</code>æ¥è®°å½•ç›®å‰æœ‰å¤šå°‘ä¸ªæ­£åœ¨è¿›è¡Œçš„é¡¹ç›®ã€‚æ¯å½“æœ‰é¡¹ç›®å¼€å§‹çš„æ—¶å€™ï¼Œå°±<code>count += 1</code>ï¼Œè€Œæ¯å½“æœ‰é¡¹ç›®ç»“æŸçš„æ—¶å€™ï¼Œå°±<code>count -= 1</code>ã€‚è¿™æ ·å°±å¯ä»¥æ‰¾åˆ°æœ€å¤šåŒæ—¶æœ‰å¤šå°‘ä¸ªé¡¹ç›®åœ¨åŒæ—¶è¿›è¡Œäº†ã€‚<strong>æ³¨æ„å½“æœ‰é¡¹ç›®çš„å¼€å§‹æ—¶é—´å’Œå¦ä¸€ä¸ªé¡¹ç›®çš„ç»“æŸæ—¶é—´ç›¸åŒæ—¶ï¼Œéœ€è¦å…ˆè€ƒè™‘ç»“æŸæ—¶é—´ï¼Œè¿™æ˜¯å› ä¸ºå·¦é—­å³å¼€çš„æ€§è´¨ã€‚</strong></p>
<p>è¿™æ ·çš„è¯ï¼Œå‡è®¾å°é¡¹ç›®æ•°æœ‰xä¸ªçš„è¯ï¼Œé‚£ä¹ˆæ—¶é—´å¤æ‚åº¦ç”±æ’åºçš„å¤æ‚åº¦å†³å®šï¼Œå¯ä»¥è¾¾åˆ°<code>O(xlogx)</code>çš„å¤æ‚åº¦ï¼Œæ˜¾ç„¶æ¯”ä¹‹å‰çš„ç®—æ³•è¦å¥½ã€‚ä¸ä»…å¦‚æ­¤ï¼Œè¿™ä¸ªç®—æ³•ä¸ä¾èµ–æ—¶é—´ç²’åº¦ï¼Œå³ä¾¿ç²’åº¦è¾¾åˆ°äº†åˆ†æˆ–ç§’ï¼Œéƒ½ä¸éœ€è¦æ›´æ”¹å¤§é‡çš„ä»£ç ï¼Œåªè¦ç¡®ä¿æ—¶é—´ä»ç„¶èƒ½å¤Ÿæ¯”è¾ƒå¤§å°å³å¯ã€‚</p>
<p>è€å¸ˆçš„ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#Programming for the Puzzled -- Srini Devadas</span></span><br><span class="line"><span class="comment">#The Best Time to Party</span></span><br><span class="line"><span class="comment">#Given a list of intervals when celebrities will be at the party</span></span><br><span class="line"><span class="comment">#Output is the time that you want to go the party when the maximum number of</span></span><br><span class="line"><span class="comment">#celebrities are still there.</span></span><br><span class="line"><span class="comment">#Clever algorithm that will work with fractional times</span></span><br><span class="line"></span><br><span class="line">sched = [(<span class="number">6</span>, <span class="number">8</span>), (<span class="number">6</span>, <span class="number">12</span>), (<span class="number">6</span>, <span class="number">7</span>), (<span class="number">7</span>, <span class="number">8</span>), (<span class="number">7</span>, <span class="number">10</span>), (<span class="number">8</span>, <span class="number">9</span>), (<span class="number">8</span>, <span class="number">10</span>), (<span class="number">9</span>, <span class="number">12</span>),</span><br><span class="line">            (<span class="number">9</span>, <span class="number">10</span>), (<span class="number">10</span>, <span class="number">11</span>), (<span class="number">10</span>, <span class="number">12</span>), (<span class="number">11</span>, <span class="number">12</span>)]</span><br><span class="line">sched2 = [(<span class="number">6.0</span>, <span class="number">8.0</span>), (<span class="number">6.5</span>, <span class="number">12.0</span>), (<span class="number">6.5</span>, <span class="number">7.0</span>), (<span class="number">7.0</span>, <span class="number">8.0</span>), (<span class="number">7.5</span>, <span class="number">10.0</span>), (<span class="number">8.0</span>, <span class="number">9.0</span>),</span><br><span class="line">          (<span class="number">8.0</span>, <span class="number">10.0</span>), (<span class="number">9.0</span>, <span class="number">12.0</span>), (<span class="number">9.5</span>, <span class="number">10.0</span>), (<span class="number">10.0</span>, <span class="number">11.0</span>), (<span class="number">10.0</span>, <span class="number">12.0</span>), (<span class="number">11.0</span>, <span class="number">12.0</span>)]</span><br><span class="line">sched3 = [(<span class="number">6</span>, <span class="number">7</span>), (<span class="number">7</span>,<span class="number">9</span>), (<span class="number">10</span>, <span class="number">11</span>), (<span class="number">10</span>, <span class="number">12</span>), (<span class="number">8</span>, <span class="number">10</span>), (<span class="number">9</span>, <span class="number">11</span>), (<span class="number">6</span>, <span class="number">8</span>),</span><br><span class="line">          (<span class="number">9</span>, <span class="number">10</span>), (<span class="number">11</span>, <span class="number">12</span>), (<span class="number">11</span>, <span class="number">13</span>), (<span class="number">11</span>, <span class="number">14</span>)]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">bestTimeToPartySmart</span>(<span class="params">schedule</span>):</span><br><span class="line">    <span class="comment">#Convert schedule to list of start times and end times marked as such</span></span><br><span class="line">    times = []</span><br><span class="line">    <span class="keyword">for</span> c <span class="keyword">in</span> schedule:</span><br><span class="line">        times.append((c[<span class="number">0</span>], <span class="string">&#x27;start&#x27;</span>))</span><br><span class="line">        times.append((c[<span class="number">1</span>], <span class="string">&#x27;end&#x27;</span>))</span><br><span class="line"></span><br><span class="line">    <span class="comment">#Sort the list of times.</span></span><br><span class="line">    <span class="comment">#Each time is a start or end time of a celebrity sighting.</span></span><br><span class="line">    sortlist(times)</span><br><span class="line"><span class="comment">##    print times</span></span><br><span class="line"></span><br><span class="line">    maxcount, time = chooseTime(times)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">#Output best time to party</span></span><br><span class="line">    <span class="built_in">print</span> (<span class="string">&#x27;Best time to attend the party is at&#x27;</span>, time,\</span><br><span class="line">           <span class="string">&#x27;o\&#x27;clock&#x27;</span>, <span class="string">&#x27;:&#x27;</span>, maxcount, <span class="string">&#x27;celebrities will be attending!&#x27;</span>)</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line"><span class="comment">#Sort the elements of tlist in ascending order</span></span><br><span class="line"><span class="comment">#Sorting is based on the value of the element tuple (both items!)</span></span><br><span class="line"><span class="comment">#The original code had a bug in that it did not look at the second</span></span><br><span class="line"><span class="comment">#item of each tuple and ensure that (x, &#x27;end&#x27;) of one interval</span></span><br><span class="line"><span class="comment">#is sorted before (x, &#x27;start&#x27;) of a different tuple.</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">sortlist</span>(<span class="params">tlist</span>):</span><br><span class="line">    <span class="keyword">for</span> index <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(tlist)-<span class="number">1</span>):</span><br><span class="line">        ismall = index</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(index, <span class="built_in">len</span>(tlist)):</span><br><span class="line">            <span class="comment">#Sort based on first item of tuple</span></span><br><span class="line">            <span class="keyword">if</span> tlist[ismall][<span class="number">0</span>] &gt; tlist[i][<span class="number">0</span>] <span class="keyword">or</span> \</span><br><span class="line">               (tlist[ismall][<span class="number">0</span>] == tlist[i][<span class="number">0</span>] <span class="keyword">and</span> \</span><br><span class="line">                tlist[ismall][<span class="number">1</span>] &gt; tlist[i][<span class="number">1</span>]):</span><br><span class="line">                ismall = i</span><br><span class="line">        <span class="comment">#Swap the positions of the elements at index and ismall indices</span></span><br><span class="line">        tlist[index], tlist[ismall] = tlist[ismall], tlist[index]</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">chooseTime</span>(<span class="params">times</span>):</span><br><span class="line">    </span><br><span class="line">    rcount = <span class="number">0</span></span><br><span class="line">    maxcount = <span class="number">0</span></span><br><span class="line">    time = <span class="number">0</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">#Range through the times computing a running count of celebrities</span></span><br><span class="line">    <span class="keyword">for</span> t <span class="keyword">in</span> times:</span><br><span class="line">        <span class="keyword">if</span> t[<span class="number">1</span>] == <span class="string">&#x27;start&#x27;</span>:</span><br><span class="line">            rcount = rcount + <span class="number">1</span></span><br><span class="line">        <span class="keyword">elif</span> t[<span class="number">1</span>] == <span class="string">&#x27;end&#x27;</span>:</span><br><span class="line">            rcount = rcount - <span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> rcount &gt; maxcount:</span><br><span class="line">            maxcount = rcount</span><br><span class="line">            time = t[<span class="number">0</span>]</span><br><span class="line">            </span><br><span class="line">    <span class="keyword">return</span> maxcount, time</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">##bestTimeToPartySmart(sched)</span></span><br><span class="line">bestTimeToPartySmart(sched2)</span><br><span class="line">bestTimeToPartySmart (sched3)</span><br></pre></td></tr></table></figure>

<p>å¥‡æ€ªçš„æ˜¯ï¼ŒDevadasåœ¨è¿™é‡Œå¹¶æ²¡æœ‰ä½¿ç”¨Pythonå†…ç½®çš„sortå‡½æ•°ï¼Œä¸ä»…å¦‚æ­¤ï¼Œè€å¸ˆè‡ªå·±å®ç°çš„sortæ˜¯é€‰æ‹©æ’åºï¼Œæ•ˆç‡æ˜¯<code>O(x^2)</code>çš„ã€‚åœ¨è¿™æ ·çš„æƒ…å†µä¸‹ï¼Œè¯¥ç®—æ³•ä¸ä¸Šé¢çš„ç®—æ³•å­°ä¼˜å­°åŠ£è¿˜ä¸ä¸€å®šã€‚ä½†æ˜¯è€å¸ˆä¸€å£å’¬å®šè¿™ä¸ªç®—æ³•ä¼šæ›´å¿«ï¼Œæœ‰ç‚¹è®©æˆ‘æ„Ÿåˆ°å›°æƒ‘ğŸ¤”ã€‚</p>
<h3 id="Exercises"><a href="#Exercises" class="headerlink" title="Exercises"></a>Exercises</h3><h4 id="Exercise-1"><a href="#Exercise-1" class="headerlink" title="Exercise 1"></a>Exercise 1</h4><p><strong>Exercise 1:</strong> Suppose you are yourself a busy celebrity and donâ€™t have complete freedom in choosing when you can go to the party. Add arguments to the procedure <strong>bestTimeToPartySmart</strong> and modify it so it determines the maximum number of celebrities you can see within a given time range between <code>ystart</code> and <code>yend</code>. As with celebrities the interval is <code>[ystart, yend)</code>,  so you are available at all times such that <code>ystart &lt;= t &lt; yend</code>.</p>
<p>å…¶å®å°±æ˜¯é—®åœ¨ç»™å®šçš„æ—¶é—´èŒƒå›´å†…ï¼Œæœ€å¤šèƒ½åŒæ—¶çœ‹åˆ°å‡ ä¸ªcelebrityã€‚åªéœ€è¦åœ¨ä¸Šé¢çš„ä»£ç é‡Œå¢åŠ é™åˆ¶æ¡ä»¶å³å¯ï¼š</p>
<p><strong>è€å¸ˆç»™å‡ºçš„</strong><code>partysmart-exercise1.py</code><strong>ä»£ç </strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#Programming for the Puzzled -- Srini Devadas</span></span><br><span class="line"><span class="comment">#The Best Time to Party</span></span><br><span class="line"><span class="comment">#Given a list of intervals when celebrities will be at the party</span></span><br><span class="line"><span class="comment">#Output is the time that you want to go the party when the maximum number of</span></span><br><span class="line"><span class="comment">#celebrities are still there.</span></span><br><span class="line"><span class="comment">#Clever algorithm that will work with fractional times</span></span><br><span class="line"></span><br><span class="line">sched = [(<span class="number">6</span>, <span class="number">8</span>), (<span class="number">6</span>, <span class="number">12</span>), (<span class="number">6</span>, <span class="number">7</span>), (<span class="number">7</span>, <span class="number">8</span>), (<span class="number">7</span>, <span class="number">10</span>), (<span class="number">8</span>, <span class="number">9</span>), (<span class="number">8</span>, <span class="number">10</span>), (<span class="number">9</span>, <span class="number">12</span>),</span><br><span class="line">            (<span class="number">9</span>, <span class="number">10</span>), (<span class="number">10</span>, <span class="number">11</span>), (<span class="number">10</span>, <span class="number">12</span>), (<span class="number">11</span>, <span class="number">12</span>)]</span><br><span class="line">sched2 = [(<span class="number">6.0</span>, <span class="number">8.0</span>), (<span class="number">6.5</span>, <span class="number">12.0</span>), (<span class="number">6.5</span>, <span class="number">7.0</span>), (<span class="number">7.0</span>, <span class="number">8.0</span>), (<span class="number">7.5</span>, <span class="number">10.0</span>), (<span class="number">8.0</span>, <span class="number">9.0</span>),</span><br><span class="line">          (<span class="number">8.0</span>, <span class="number">10.0</span>), (<span class="number">9.0</span>, <span class="number">12.0</span>), (<span class="number">9.5</span>, <span class="number">10.0</span>), (<span class="number">10.0</span>, <span class="number">11.0</span>), (<span class="number">10.0</span>, <span class="number">12.0</span>), (<span class="number">11.0</span>, <span class="number">12.0</span>)]</span><br><span class="line">sched3 = [(<span class="number">6</span>, <span class="number">7</span>), (<span class="number">7</span>,<span class="number">9</span>), (<span class="number">10</span>, <span class="number">11</span>), (<span class="number">10</span>, <span class="number">12</span>), (<span class="number">8</span>, <span class="number">10</span>), (<span class="number">9</span>, <span class="number">11</span>), (<span class="number">6</span>, <span class="number">8</span>),</span><br><span class="line">          (<span class="number">9</span>, <span class="number">10</span>), (<span class="number">11</span>, <span class="number">12</span>), (<span class="number">11</span>, <span class="number">13</span>), (<span class="number">11</span>, <span class="number">14</span>)]</span><br><span class="line"></span><br><span class="line"><span class="comment">#[ystart, yend) is the time that you can meet with the celebrities</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">bestTimeToPartySmart</span>(<span class="params">schedule, ystart, yend</span>):</span><br><span class="line">    <span class="comment">#Convert schedule to list of start times and end times marked as such</span></span><br><span class="line">    times = []</span><br><span class="line">    <span class="keyword">for</span> c <span class="keyword">in</span> schedule:</span><br><span class="line">        times.append((c[<span class="number">0</span>], <span class="string">&#x27;start&#x27;</span>))</span><br><span class="line">        times.append((c[<span class="number">1</span>], <span class="string">&#x27;end&#x27;</span>))</span><br><span class="line"></span><br><span class="line">    <span class="comment">#Sort the list of times.</span></span><br><span class="line">    <span class="comment">#Each time is a start or end time of a celebrity sighting.</span></span><br><span class="line">    sortlist(times)</span><br><span class="line"><span class="comment">##    print times</span></span><br><span class="line"></span><br><span class="line">    maxcount, time = chooseTimeConstrained(times, ystart, yend)</span><br><span class="line"></span><br><span class="line">    <span class="comment">#Output best time to party</span></span><br><span class="line">    <span class="built_in">print</span> (<span class="string">&#x27;Best time to attend the party is at&#x27;</span>, time,\</span><br><span class="line">           <span class="string">&#x27;o\&#x27;clock&#x27;</span>, <span class="string">&#x27;:&#x27;</span>, maxcount, <span class="string">&#x27;celebrities will be attending!&#x27;</span>)</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line"><span class="comment">#Sort the elements of tlist in ascending order</span></span><br><span class="line"><span class="comment">#Sorting is based on the value of the element tuple (both items!)</span></span><br><span class="line"><span class="comment">#The original code had a bug in that it did not look at the second</span></span><br><span class="line"><span class="comment">#item of each tuple and ensure that (x, &#x27;end&#x27;) of one interval</span></span><br><span class="line"><span class="comment">#is sorted before (x, &#x27;start&#x27;) of a different tuple.</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">sortlist</span>(<span class="params">tlist</span>):</span><br><span class="line">    <span class="keyword">for</span> index <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(tlist)-<span class="number">1</span>):</span><br><span class="line">        ismall = index</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(index, <span class="built_in">len</span>(tlist)):</span><br><span class="line">            <span class="comment">#Sort based on first item of tuple</span></span><br><span class="line">            <span class="keyword">if</span> tlist[ismall][<span class="number">0</span>] &gt; tlist[i][<span class="number">0</span>] <span class="keyword">or</span> \</span><br><span class="line">               (tlist[ismall][<span class="number">0</span>] == tlist[i][<span class="number">0</span>] <span class="keyword">and</span> \</span><br><span class="line">                tlist[ismall][<span class="number">1</span>] &gt; tlist[i][<span class="number">1</span>]):</span><br><span class="line">                ismall = i</span><br><span class="line">        <span class="comment">#Swap the positions of the elements at index and ismall indices</span></span><br><span class="line">        tlist[index], tlist[ismall] = tlist[ismall], tlist[index]</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">chooseTimeConstrained</span>(<span class="params">times, ystart, yend</span>):</span><br><span class="line"></span><br><span class="line">    rcount = <span class="number">0</span></span><br><span class="line">    maxcount = <span class="number">0</span></span><br><span class="line">    time = <span class="number">0</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">#Range through the times computing a running count of celebrities</span></span><br><span class="line">    <span class="keyword">for</span> t <span class="keyword">in</span> times:</span><br><span class="line">        <span class="keyword">if</span> t[<span class="number">1</span>] == <span class="string">&#x27;start&#x27;</span>:</span><br><span class="line">            rcount = rcount + <span class="number">1</span></span><br><span class="line">        <span class="keyword">elif</span> t[<span class="number">1</span>] == <span class="string">&#x27;end&#x27;</span>:</span><br><span class="line">            rcount = rcount - <span class="number">1</span></span><br><span class="line">        <span class="comment">#Make sure that you are available during this time t[0]!</span></span><br><span class="line">        <span class="keyword">if</span> rcount &gt; maxcount <span class="keyword">and</span> t[<span class="number">0</span>] &gt;= ystart <span class="keyword">and</span> t[<span class="number">0</span>] &lt; yend:</span><br><span class="line">            maxcount = rcount</span><br><span class="line">            time = t[<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> maxcount, time</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#bestTimeToPartySmart(sched2, 7.0, 9.0)</span></span><br><span class="line">bestTimeToPartySmart(sched2, <span class="number">10.0</span>, <span class="number">12.0</span>)</span><br></pre></td></tr></table></figure>

<h4 id="Exercise-2"><a href="#Exercise-2" class="headerlink" title="Exercise 2"></a>Exercise 2</h4><p><strong>Exercise 2:</strong> There is an alternative way of computing the best time to party that does not depend on the granularity of time. We choose each celebrity interval in turn, and determine how many other celebrity intervals contain the chosen celebrityâ€™s start time. We pick the time to attend the party to be the start time of the celebrity whose start time is contained in the maximum number of other celebrity intervals. Code this algorithm and verify that it produces the same answer as the algorithm based on sorting.</p>
<p>è¿™ä¸ªç»ƒä¹ æå‡ºäº†ä¸€ä¸ªæ–°çš„æ€è·¯ï¼šæ£€æŸ¥æ¯ä¸ªcelebrityçš„å¼€å§‹æ—¶é—´ï¼Œæ‰¾å‡ºå“ªä¸€ä¸ªcelebrityçš„å¼€å§‹æ—¶é—´è¢«æœ€å¤šçš„celebrityçš„æ—¶é—´é—´éš”æ‰€åŒ…å«ï¼Œè¿™å°±æ˜¯æ‰€æ±‚çš„ç­”æ¡ˆã€‚</p>
<p>ä¸ºä»€ä¹ˆè¿™ä¸ªæ€è·¯æ˜¯æ­£ç¡®çš„å‘¢ï¼ŸåŸå› å¾ˆç®€å•ï¼Œåœ¨åŸºäºæ’åºçš„ç®—æ³•ä¸­ï¼Œç»´æŠ¤çš„æœ€å¤§æ•°é‡åªæœ‰åœ¨ä¸€ä¸ªæ–°çš„celebrityå¼€å§‹çš„æ—¶å€™æ‰æœ‰å¯èƒ½ä¼šæ›´æ–°ã€‚æ‰€ä»¥é¢˜ç›®æ‰€æ±‚çš„æ—¶é—´å¿…ç„¶æ˜¯æŸä¸ªcelebrityçš„å¼€å§‹æ—¶é—´ã€‚</p>
<p>codeå°±æ‡’å¾—å†™äº†ğŸ˜‚ï¼Œåæ­£ä¹Ÿä¸éš¾ã€‚</p>
<h4 id="Exercise-3"><a href="#Exercise-3" class="headerlink" title="Exercise 3"></a>Exercise 3</h4><p><strong>Puzzle Exercise 3:</strong> Imagine that there is a weight associated with each celebrity dependent on how much you like that particular celebrity. This can be represented in the schedule as a 3-tuple, e.g., <code>(6.0, 8.0, 3)</code>. The start time is 6.0, end time is 8.0 and the weight is 3. Modify the code so you find the time that the celebrities with maximum total weight are available. For example, given:</p>
<p><img src="http://ww3.sinaimg.cn/large/006tNc79gy1g5dbixezi7j30fa0920tc.jpg" alt="Example"></p>
<p>We want to return the time corresponding to the right dotted line even though there are only two celebrities available at that time. This is because the weight associated with those two celebrities is 4, which is greater than the total weight of 3 associated with the three celebrities available during the first dotted line.</p>
<p>Hereâ€™s a more complex example:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sched3 = [(6.0, 8.0, 2), (6.5, 12.0, 1), (6.5, 7.0, 2), (7.0, 8.0, 2), (7.5, 10.0, 3), (8.0, 9.0, 2),(8.0, 10.0, 1), (9.0, 12.0, 2), (9.5, 10.0, 4), (10.0, 11.0, 2), (10.0, 12.0, 3), (11.0, 12.0, 7)]</span><br></pre></td></tr></table></figure>

<p>For this schedule of celebrities, you want to attend at 11.0 oâ€™clock where the weight of attending celebrities is 13 and maximum!</p>
<p>æˆ‘çš„æ€è·¯ä»ç„¶æ˜¯å…ˆå°†æ¯ä¸ªé¡¹ç›®çš„å¼€å§‹æ—¶é—´å’Œç»“æŸæ—¶é—´è¿›è¡Œæ’åºï¼ŒåŒæ—¶è®°å½•ä¸‹è¯¥é¡¹ç›®çš„æƒé‡ï¼Œç„¶åæœ‰é¡¹ç›®å¼€å§‹å°±å¢åŠ ç›¸åº”çš„æƒé‡ï¼Œç»“æŸå°±å‡å°‘ç›¸åº”çš„æƒé‡ã€‚</p>
<p>ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> profile</span><br><span class="line"></span><br><span class="line">sched3 = [</span><br><span class="line">            (<span class="number">6.0</span>, <span class="number">8.0</span>, <span class="number">2</span>), (<span class="number">6.5</span>, <span class="number">12.0</span>, <span class="number">1</span>),</span><br><span class="line">            (<span class="number">6.5</span>, <span class="number">7.0</span>, <span class="number">2</span>), (<span class="number">7.0</span>, <span class="number">8.0</span>, <span class="number">2</span>),</span><br><span class="line">            (<span class="number">7.5</span>, <span class="number">10.0</span>, <span class="number">3</span>), (<span class="number">8.0</span>, <span class="number">9.0</span>, <span class="number">2</span>),</span><br><span class="line">            (<span class="number">8.0</span>, <span class="number">10.0</span>, <span class="number">1</span>), (<span class="number">9.0</span>, <span class="number">12.0</span>, <span class="number">2</span>),</span><br><span class="line">            (<span class="number">9.5</span>, <span class="number">10.0</span>, <span class="number">4</span>), (<span class="number">10.0</span>, <span class="number">11.0</span>, <span class="number">2</span>),</span><br><span class="line">            (<span class="number">10.0</span>, <span class="number">12.0</span>, <span class="number">3</span>), (<span class="number">11.0</span>, <span class="number">12.0</span>, <span class="number">7</span>)</span><br><span class="line">        ]</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">sortlist</span>(<span class="params">times</span>):</span><br><span class="line">    times.sort(key=<span class="keyword">lambda</span> x: (x[<span class="number">0</span>], x[<span class="number">1</span>]))</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">bestTimeToParty</span>(<span class="params">shed</span>):</span><br><span class="line">    times = []</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> shed:</span><br><span class="line">        times += [(i[<span class="number">0</span>], <span class="string">&#x27;start&#x27;</span>, i[-<span class="number">1</span>])]</span><br><span class="line">        times += [(i[<span class="number">1</span>], <span class="string">&#x27;end&#x27;</span>, i[-<span class="number">1</span>])]</span><br><span class="line"></span><br><span class="line">    sortlist(times)</span><br><span class="line"></span><br><span class="line">    count, maxcount = <span class="number">0</span>, <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> times:</span><br><span class="line">        <span class="keyword">if</span> i[<span class="number">1</span>] == <span class="string">&#x27;start&#x27;</span>:</span><br><span class="line">            count += i[-<span class="number">1</span>]</span><br><span class="line">            <span class="keyword">if</span> count &gt; maxcount:</span><br><span class="line">                maxcount = count</span><br><span class="line">                time = i[<span class="number">0</span>]</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            count -= i[-<span class="number">1</span>]</span><br><span class="line">    <span class="built_in">print</span> (<span class="string">&#x27;Best time to attend the party is at&#x27;</span>, time,\</span><br><span class="line">           <span class="string">&#x27;o\&#x27;clock&#x27;</span>, <span class="string">&#x27;:&#x27;</span>, maxcount, <span class="string">&#x27;values in total!&#x27;</span>)</span><br><span class="line"></span><br><span class="line">profile.run(<span class="string">&#x27;bestTimeToParty(sched3)&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>ç»“æœå¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">Best time to attend the party is at 11.0 o&#x27;clock : 13 values in total!</span><br><span class="line">         32 function calls in 0.013 seconds</span><br><span class="line"></span><br><span class="line">   Ordered by: standard name</span><br><span class="line"></span><br><span class="line">   ncalls  tottime  percall  cumtime  percall filename:lineno(function)</span><br><span class="line">        1    0.000    0.000    0.000    0.000 :0(exec)</span><br><span class="line">        1    0.000    0.000    0.000    0.000 :0(print)</span><br><span class="line">        1    0.012    0.012    0.012    0.012 :0(setprofile)</span><br><span class="line">        1    0.000    0.000    0.000    0.000 :0(sort)</span><br><span class="line">        1    0.000    0.000    0.000    0.000 &lt;string&gt;:1(&lt;module&gt;)</span><br><span class="line">        1    0.000    0.000    0.000    0.000 ex3.py:12(sortlist)</span><br><span class="line">       24    0.000    0.000    0.000    0.000 ex3.py:13(&lt;lambda&gt;)</span><br><span class="line">        1    0.000    0.000    0.000    0.000 ex3.py:15(bestTimeToParty)</span><br><span class="line">        1    0.000    0.000    0.013    0.013 profile:0(bestTimeToParty(sched3))</span><br><span class="line">        0    0.000             0.000          profile:0(profiler)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://diamondi.github.io/2023/03/05/best-time-to-party/" data-id="clevka1sc0010lctlboh1au8q" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2023/03/05/big/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Misc-9-big from hackme.inndy.tw
        
      </div>
    </a>
  
  
    <a href="/2023/03/05/934/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">LeetCode - 934. Shortest Bridge</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Algorithm/">Algorithm</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Data-Structure/">Data Structure</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Misc/">Misc</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/blog/">blog</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/ctf/">ctf</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/movies/">movies</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/tools/">tools</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/web/">web</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%97%85%E6%B8%B8/">æ—…æ¸¸</a></li></ul>
    </div>
  </div>


  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/03/">March 2023</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2023/03/05/you-will-all-confirm/">Puzzle 1 - You Will All Confirm</a>
          </li>
        
          <li>
            <a href="/2023/03/05/%E6%B5%B7%E5%B8%82%E8%9C%83%E6%A5%BC%E8%A7%82%E5%BD%B1%E8%AE%B0/">ã€Šæµ·å¸‚èœƒæ¥¼ã€‹è§‚å½±è®°</a>
          </li>
        
          <li>
            <a href="/2023/03/05/web_beacon/">Web beacon åˆæ¢</a>
          </li>
        
          <li>
            <a href="/2023/03/05/roger/">ç½—æ°ç–‘æ¡ˆâ€”â€”éº»å°†çš„bug</a>
          </li>
        
          <li>
            <a href="/2023/03/05/priority_queue/">Priority Queue</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2023 DiamondI<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>




  </div>
</body>
</html>